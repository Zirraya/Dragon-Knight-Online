# Dragon-Knight-Online

Ru version 2.2046

Ссылка на файлы: https://drive.google.com/drive/folders/1VHeD33ypxxY8N1vaS2iDCWH-gK5VvTUB?usp=sharing

ЭТО НЕ ЧИСТЫЙ КЛИЕНТ

ФАЙЛ СОДЕРЖИТ ЛОГИ

БАЗА ДАННЫХ+СЕРВЕР ВЗЯТЫ И ПРЕНАДЛЕЖАТ:https://forum.ragezone.com/threads/dragon-knight-online-%E9%BE%99%E9%AA%91%E5%A3%ABonline-%E9%BE%99%E9%AA%91%E5%A3%ABol.1258600/ 


Данная версия является русским релизом.

Не смотря на LFS гитхаб отказался принимать файлы, поэтому файлы на облаке

ИНСТРУКЦИЯ: КАК ЗАПУСТИТЬ 

ЭТАП №1: ПОДГОТОВКА ФАЙЛОВ ИГРЫ

1. Удалите если есть файл settings.cfg

2. В файле Gameconfig.xml замените ip на локальный или нужный вам. 

3. В файле ErrRep.cfg замените ip на локальный или нужный вам и поставтье порт 3791 либо 3800. 3791 это 
порт авторизации, 3800 - порт сервера игры - мира. 



ЭТАП №2: ЗАПУСК СЕРВЕРА И ОТПРАВКА ПАКЕТОВ

1. Папка Server. Заходим в папку bin -> Debug -> net8.0. Запустисте файл DragonServer.exe. Запуститься консоль с сообщением, что сервер запущен.

2. Запускаем игру. 

3. Вводим любой логин и пароль. 

4. Смотрим в консоль. Там должна появиться информация об отправке запросов. 

5. Все вы можете на локальный сревер отправлсять пакеты. На данный момент это все, что доступно!



ЭТАП №3: КОМПИЛЯЦИЯ ПРОЕКТА(ОПЦИОНАЛЬНО) ЕСЛИ У ВАС EXE НЕ РАБОТАЕТ 

1. Удалйяте папки bin и obj

2. Откройте файл DragonServer.csproj и скомпилирйте. Нужен dot.net версии 8.0 или выше. Готово! 
Возвращайтесь к ЭТАП№2. Если нет, то переходим к шагу 3

3. Удалите папки bin и obj, да опять 

4. Откройте консоль в папке Server. Выполните последовательно команды: dotnet nuget locals all --clear, 
dotnet restore, dotnet build. В консоле должно вывестись что проект успешно собран. 

5. Заходим в папку bin -> Debug -> net8.0. Запустисте файл DragonServer.exe. Запуститься консоль с сообщением, что сервер запущен. 

6. Провертье включенные порты. Введите команды: netstat -an | findstr 3791 и netstat -an | findstr 3800. 
Очередность не важна. Вы должны увидеть: TCP  0.0.0.0:3800    0.0.0.0:0  LISTENING и TCP  0.0.0.0:3791    0.0.0.0:0   LISTENING. 

7. Возваращемся к ЭТАП№2.


